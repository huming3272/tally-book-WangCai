(function(t){function e(e){for(var n,i,c=e[0],o=e[1],u=e[2],l=0,d=[];l<c.length;l++)i=c[l],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n]);f&&f(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,i=1;i<a.length;i++){var o=a[i];0!==r[o]&&(n=!1)}n&&(s.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},r={app:0},s=[];function i(t){return c.p+"js/"+({about:"about"}[t]||t)+"."+{about:"a0140021"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a=r[t];if(0!==a)if(a)e.push(a[2]);else{var n=new Promise((function(e,n){a=r[t]=[e,n]}));e.push(a[2]=n);var s,o=document.createElement("script");o.charset="utf-8",o.timeout=120,c.nc&&o.setAttribute("nonce",c.nc),o.src=i(t);var u=new Error;s=function(e){o.onerror=o.onload=null,clearTimeout(l);var a=r[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),s=e&&e.target&&e.target.src;u.message="Loading chunk "+t+" failed.\n("+n+": "+s+")",u.name="ChunkLoadError",u.type=n,u.request=s,a[1](u)}r[t]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:o})}),12e4);o.onerror=o.onload=s,document.head.appendChild(o)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/tally-book-WangCai/",c.oe=function(t){throw console.error(t),t};var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var l=0;l<o.length;l++)e(o[l]);var f=u;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"13aa":function(t,e,a){"use strict";a("143c")},"143c":function(t,e,a){},1776:function(t,e,a){"use strict";a("619b")},"192c":function(t,e,a){},1964:function(t,e,a){"use strict";a("241f")},"1df3":function(t,e,a){},"216e":function(t,e,a){},"241f":function(t,e,a){},"28ed":function(t,e,a){"use strict";a("e3be")},"2b80":function(t,e,a){"use strict";a.r(e);var n=a("e017"),r=a.n(n),s=a("21a1"),i=a.n(s),c=new r.a({id:"left",use:"left-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="left"><defs><style></style></defs><path d="M378.482 501.191L643.755 717.54a28.444 28.444 0 11-35.954 44.032L316.53 524.117a28.444 28.444 0 01-.797-43.349l291.215-257.48a28.444 28.444 0 0137.66 42.668L378.482 501.19z" /></symbol>'});i.a.add(c);e["default"]=c},"340b":function(t,e,a){"use strict";a("1df3")},"37af":function(t,e,a){"use strict";a.r(e);var n=a("e017"),r=a.n(n),s=a("21a1"),i=a.n(s),c=new r.a({id:"right",use:"right-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="right"><defs><style></style></defs><path d="M645.518 522.809L380.245 306.46a28.444 28.444 0 1135.954-44.032L707.47 499.883a28.444 28.444 0 01.797 43.349l-291.215 257.48a28.444 28.444 0 01-37.66-42.668L645.518 522.81z" /></symbol>'});i.a.add(c);e["default"]=c},"3e40":function(t,e,a){},"4f67":function(t,e,a){},5137:function(t,e,a){"use strict";a("3e40")},5711:function(t,e,a){"use strict";a("ec13")},"587c":function(t,e,a){},"5c0b":function(t,e,a){"use strict";a("9c0c")},"619b":function(t,e,a){},"62b1":function(t,e,a){},7731:function(t,e,a){"use strict";a("587c")},"893d":function(t,e,a){"use strict";a("62b1")},"8ccb":function(t,e,a){"use strict";a.r(e);var n=a("e017"),r=a.n(n),s=a("21a1"),i=a.n(s),c=new r.a({id:"statistics",use:"statistics-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="statistics"><defs><style></style></defs><path d="M875.52 151.552h-2.048C802.816 80.896 709.12 37.888 609.28 31.232v399.36H998.4c-4.096-104.96-48.128-204.8-122.88-279.04z" /><path d="M537.6 39.424h-29.184c-264.192 0-478.72 214.016-478.72 478.208 0 264.704 214.528 478.72 478.72 478.72 261.632 1.024 475.136-208.896 478.72-470.528V496.64H537.6V39.424zm389.12 518.144c-8.704 99.84-52.736 194.048-124.928 264.192h-2.048c-77.824 76.288-182.272 118.784-291.328 118.784-232.448 0-420.352-187.904-420.352-420.352C86.528 299.008 258.048 114.176 479.232 99.84v457.728H926.72z" /></symbol>'});i.a.add(c);e["default"]=c},"922d":function(t,e,a){"use strict";a("b4d7")},"93a8":function(t,e,a){"use strict";a("192c")},"9c0c":function(t,e,a){},a48f:function(t,e,a){},ad48:function(t,e,a){"use strict";a("f0e7")},b422:function(t,e,a){var n={"./labels.svg":"fa0e","./left.svg":"2b80","./money.svg":"cf44","./right.svg":"37af","./statistics.svg":"8ccb"};function r(t){var e=s(t);return a(e)}function s(t){if(!a.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}r.keys=function(){return Object.keys(n)},r.resolve=s,t.exports=r,r.id="b422"},b4d7:function(t,e,a){},b692:function(t,e,a){"use strict";a("a48f")},bdbb:function(t,e,a){"use strict";a("216e")},c899:function(t,e,a){"use strict";a("4f67")},cd49:function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view",{staticClass:"view"})],1)},s=[],i=a("d4ec"),c=a("bee2"),o=a("262e"),u=a("2caf"),l=a("9ab4"),f=a("1b40"),d=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.mobile=!1,t}return Object(c["a"])(a,[{key:"mounted",value:function(){document.documentElement.clientWidth>500&&alert("请使用手机预览")}}]),a}(n["default"]);d=Object(l["a"])([f["a"]],d);var p=d,v=p,b=(a("5c0b"),a("2877")),h=Object(b["a"])(v,r,s,!1,null,null,null),g=h.exports,m=a("9483");Object(m["a"])("".concat("/tally-book-WangCai/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(t){console.error("Error during service worker registration:",t)}});a("d3b7"),a("3ca3"),a("ddb0");var y=a("8c4f"),O=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",{style:t.h?{height:t.h+"px"}:"",attrs:{"class-prefix":"layout"}},[a("NumberPad",{attrs:{value:t.record.amount},on:{"update:value":function(e){return t.$set(t.record,"amount",e)},submit:t.saveRecord}}),a("Tabs",{attrs:{"data-source":t.recordTypeList,value:t.record.type},on:{"update:value":function(e){return t.$set(t.record,"type",e)}}}),a("FormItem",{attrs:{value:t.record.notes,fieldName:"备注",placeholder:"请输入备注"},on:{"update:value":function(e){return t.$set(t.record,"notes",e)}}}),a("DatePicker",{attrs:{value:t.record.date},on:{"update:value":function(e){return t.$set(t.record,"date",e)}}}),a("Tags",{class:{warning:!t.isNull},attrs:{value:t.record.tags,clearData:t.clearData},on:{"update:value":function(e){return t.$set(t.record,"tags",e)},"update:clearData":function(e){t.clearData=e},"update:clear-data":function(e){t.clearData=e}}})],1)},j=[],w=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"numberPad"},[a("div",{staticClass:"output"},[t._v(t._s(t.output))]),a("div",{staticClass:"buttons",on:{click:t.control}},[a("button",{class:{currentBtn:"1"===t.currentButton}},[t._v("1")]),a("button",{class:{currentBtn:"2"===t.currentButton}},[t._v("2")]),a("button",{class:{currentBtn:"3"===t.currentButton}},[t._v("3")]),a("button",{class:{currentBtn:"删除"===t.currentButton}},[t._v("删除")]),a("button",{class:{currentBtn:"4"===t.currentButton}},[t._v("4")]),a("button",{class:{currentBtn:"5"===t.currentButton}},[t._v("5")]),a("button",{class:{currentBtn:"6"===t.currentButton}},[t._v("6")]),a("button",{class:{currentBtn:"清空"===t.currentButton}},[t._v("清空")]),a("button",{class:{currentBtn:"7"===t.currentButton}},[t._v("7")]),a("button",{class:{currentBtn:"8"===t.currentButton}},[t._v("8")]),a("button",{class:{currentBtn:"9"===t.currentButton}},[t._v("9")]),a("button",{staticClass:"ok",class:{currentBtn:"OK"===t.currentButton}},[t._v("OK")]),a("button",{staticClass:"zero",class:{currentBtn:"0"===t.currentButton}},[t._v("0")]),a("button",{class:{currentBtn:"."===t.currentButton}},[t._v(".")])])])},_=[],k=(a("25f0"),a("fb6a"),function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),//!为空不警告
t.output=t.value.toString(),t.currentButton="",t}return Object(c["a"])(a,[{key:"parse",get:function(){return parseFloat(this.output)}},{key:"control",value:function(t){var e=t.target,a=e.innerText;"删除"===a?this.remove():"清空"===a?this.clear():"OK"===a&&this.ok(),this.numInput(a),this.selectButton(a)}},{key:"numInput",value:function(t){if(!(this.output.indexOf(".")>=0&&"."===t)&&!(this.output.length>=16))return"0123456789.".indexOf(t)>=0?"0"===this.output&&"."!==t?void(this.output=t):void(this.output+=t):void 0}},{key:"remove",value:function(){1!==this.output.length?this.output=this.output.slice(0,-1):this.output="0"}},{key:"clear",value:function(){this.output="0"}},{key:"ok",value:function(){this.$emit("update:value",this.parse),this.$emit("submit",this.parse),this.clear()}},{key:"selectButton",value:function(t){var e=this;this.currentButton=t,setTimeout((function(){e.currentButton=""}),200)}}]),a}(n["default"]));Object(l["a"])([Object(f["b"])()],k.prototype,"value",void 0),k=Object(l["a"])([f["a"]],k);var L=k,x=L,T=(a("5711"),Object(b["a"])(x,w,_,!1,null,"559b6b4d",null)),C=T.exports,$=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("label",{staticClass:"formItem"},[a("span",{staticClass:"name"},[t._v(t._s(this.fieldName))]),a("input",{attrs:{type:"text",placeholder:this.placeholder},domProps:{value:t.value},on:{input:function(e){return t.onValueChanged(e.target.value)}}})])])},B=[],S=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"onValueChanged",value:function(t){this.$emit("update:value",t)}}]),a}(n["default"]);Object(l["a"])([Object(f["b"])({default:""})],S.prototype,"value",void 0),Object(l["a"])([Object(f["b"])({required:!0})],S.prototype,"fieldName",void 0),Object(l["a"])([Object(f["b"])()],S.prototype,"placeholder",void 0),S=Object(l["a"])([f["a"]],S);var D=S,E=D,N=(a("340b"),Object(b["a"])(E,$,B,!1,null,"ba89ba16",null)),I=N.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tags"},[a("ul",{staticClass:"current"},t._l(t.tagList,(function(e){return a("li",{key:e.id,class:{selected:t.selectedTags.indexOf(e)>=0},on:{click:function(a){return t.toggle(e)}}},[t._v(t._s(e.name)+" ")])})),0),a("div",{staticClass:"new"},[a("button",{on:{click:t.createTag}},[t._v("新增标签")])])])},M=[],z=(a("a434"),a("2fe1")),Y={"tag name duplicated":"标签名重复了"},R=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"createTag",value:function(){var t=window.prompt("请输入标签名");if(!t)return window.alert("标签名不能为空");this.$store.commit("createTag",t),this.$store.state.createTagError&&window.alert(Y[this.$store.state.createTagError.message]||"未知错误")}}]),a}(n["default"]);R=Object(l["a"])([z["b"]],R);var J=R,H=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.selectedTags=[],t}return Object(c["a"])(a,[{key:"tagList",get:function(){return this.$store.state.tagList}},{key:"clearSelTags",value:function(){this.clearData&&(this.selectedTags=[])}},{key:"toggle",value:function(t){var e=this.selectedTags.indexOf(t);e>=0?this.selectedTags.splice(e,1):this.selectedTags.push(t),this.$emit("update:value",this.selectedTags),this.$emit("update:clearData",!1)}},{key:"created",value:function(){this.$store.commit("fetchTags")}}]),a}(Object(z["c"])(J));Object(l["a"])([Object(f["b"])()],H.prototype,"clearData",void 0),Object(l["a"])([Object(f["d"])("clearData")],H.prototype,"clearSelTags",null),H=Object(l["a"])([Object(f["a"])({})],H);var F=H,A=F,W=(a("bdbb"),Object(b["a"])(A,P,M,!1,null,"78bbc676",null)),V=W.exports,q=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"date"},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[t._v("选择日期")]),a("el-date-picker",{attrs:{type:"date",placeholder:"选择日期"},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)])},K=[],U=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.date=t.value,t}return Object(c["a"])(a,[{key:"getDate",value:function(t){if(this.date){var e=this.date.toLocaleDateString("zh-CN");this.$emit("update:value",e)}}}]),a}(n["default"]);Object(l["a"])([Object(f["b"])()],U.prototype,"value",void 0),Object(l["a"])([Object(f["d"])("date")],U.prototype,"getDate",null),U=Object(l["a"])([f["a"]],U);var G=U,Q=G,X=(a("1776"),a("13aa"),Object(b["a"])(Q,q,K,!1,null,"a17e2482",null)),Z=X.exports,tt=function(){var t,e=this,a=e.$createElement,n=e._self._c||a;return n("ul",{staticClass:"tabs",class:(t={},t[e.classPrefix+"-tabs"]=e.classPrefix,t)},e._l(e.dataSource,(function(t){return n("li",{key:t.value,staticClass:"tabs-item",class:e.liClass(t),on:{click:function(a){return e.select(t)}}},[e._v(" "+e._s(t.text)+" ")])})),0)},et=[],at=a("ade3"),nt=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"liClass",value:function(t){var e;return e={},Object(at["a"])(e,this.classPrefix+"-tabs-item",this.classPrefix),Object(at["a"])(e,"selected",t.value===this.value),e}},{key:"select",value:function(t){this.$emit("update:value",t.value)}}]),a}(n["default"]);Object(l["a"])([Object(f["b"])({required:!0,type:Array})],nt.prototype,"dataSource",void 0),Object(l["a"])([Object(f["b"])(String)],nt.prototype,"value",void 0),Object(l["a"])([Object(f["b"])(String)],nt.prototype,"classPrefix",void 0),Object(l["a"])([Object(f["b"])({type:String,default:"64px"})],nt.prototype,"height",void 0),nt=Object(l["a"])([f["a"]],nt);var rt=nt,st=rt,it=(a("922d"),Object(b["a"])(st,tt,et,!1,null,"3228db94",null)),ct=it.exports,ot=a("5530");function ut(t){return JSON.parse(JSON.stringify(t))}var lt=ut,ft="recordList",dt={recordList:[],fetchRecords:function(){return this.recordList=JSON.parse(window.localStorage.getItem(ft)||"[]"),this.recordList},createRecords:function(t){var e=lt(t);this.recordList.push(e),this.saveRecords()},saveRecords:function(){window.localStorage.setItem(ft,JSON.stringify(this.recordList))}};dt.fetchRecords();var pt=dt,vt=(a("d81d"),a("b0c0"),a("4de4"),parseInt(window.localStorage.getItem("_idMax")||"0")||0);function bt(){return vt++,window.localStorage.setItem("_idMax",vt.toString()),vt}var ht=bt,gt="tagList",mt={tagList:[],fetchTags:function(){return this.tagList=JSON.parse(window.localStorage.getItem(gt)||"[]"),this.tagList},createTag:function(t){var e=this.tagList.map((function(t){return t.name}));if(e.indexOf(t)>0)return window.alert("标签名重复"),"duplicated";var a=ht().toString();return this.tagList.push({id:a,name:t}),this.saveTags(),"success"},updateTag:function(t,e){var a=this.tagList.map((function(t){return t.id}));if(console.log("idList",a),a.indexOf(t)>=0){var n=this.tagList.map((function(t){return t.name}));if(n.indexOf(e)>=0)return console.log("重复",e),"duplicated";var r=this.tagList.filter((function(e){return e.id===t}))[0];return r.name=e,this.saveTags(),console.log("成功"),"success"}return console.log("找不到"),"not found"},removeTag:function(t){var e=this.tagList.map((function(t){return t.id})),a=e.indexOf(t);return a>=0&&(this.tagList.splice(a,1),this.saveTags(),console.log("删了以后",this.tagList),!0)},saveTags:function(){window.localStorage.setItem(gt,JSON.stringify(this.tagList))},findTag:function(t){return this.tagList.filter((function(e){return e.id===t}))[0]}},yt=mt,Ot=Object(ot["a"])(Object(ot["a"])({},pt),yt),jt=Ot,wt=(a("dca8"),Object.freeze([{text:"支出",value:"-"},{text:"收入",value:"+"}])),_t=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.tags=jt.tagList,t.recordTypeList=wt,t.clearData=!1,t.isNull=!0,t.h=0,t.record={tags:[],notes:"",type:"-",date:(new Date).toLocaleDateString("zh-CN"),amount:0},t}return Object(c["a"])(a,[{key:"recordList",get:function(){return this.$store.state.recordList}},{key:"saveRecord",value:function(){var t=this;if(0===this.record.tags.length)return this.isNull=!1,setTimeout((function(){t.isNull=!0}),5e3),alert("至少选中一个标签");this.$store.commit("createRecords",this.record),this.record.tags=[],this.record.notes="",this.clearData=!0}},{key:"onUpdateNotes",value:function(t){this.record.notes=t}},{key:"created",value:function(){this.$store.commit("fetchRecords")}},{key:"mounted",value:function(){this.h=document.body.clientHeight}}]),a}(n["default"]);_t=Object(l["a"])([Object(f["a"])({components:{Tags:V,FormItem:I,NumberPad:C,DatePicker:Z,Tabs:ct},computed:{}})],_t);var kt,Lt=_t,xt=Lt,Tt=(a("ad48"),Object(b["a"])(xt,O,j,!1,null,"7b1a6d4a",null)),Ct=Tt.exports,$t=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("div",{staticClass:"tags"},t._l(t.tags,(function(e){return a("router-link",{key:e.id,staticClass:"tag",attrs:{to:"/labels/edit/"+e.id}},[a("span",[t._v(t._s(e.name))]),a("Icon",{attrs:{iconname:"right"}})],1)})),1),a("div",{staticClass:"createTag-wrapper"},[a("Button",{staticClass:"createTag",on:{click:t.createTag}},[t._v(" 新建标签 ")])],1)])},Bt=[],St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"button",on:{click:t.onClick}},[t._t("default")],2)},Dt=[],Et=Object(f["a"])(kt=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"onClick",value:function(t){this.$emit("click",t)}}]),a}(n["default"]))||kt,Nt=Et,It=(a("93a8"),Object(b["a"])(Nt,St,Dt,!1,null,"69de93a4",null)),Pt=It.exports,Mt=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"tags",get:function(){return this.$store.state.tagList}},{key:"created",value:function(){this.$store.commit("fetchTags")}}]),a}(Object(z["c"])(J));Mt=Object(l["a"])([Object(f["a"])({components:{Button:Pt}})],Mt);var zt=Mt,Yt=zt,Rt=(a("893d"),Object(b["a"])(Yt,$t,Bt,!1,null,"00d5a25c",null)),Jt=Rt.exports,Ht=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("Tabs",{attrs:{"class-prefix":"type","data-source":t.recordTypeList,value:t.type},on:{"update:value":function(e){t.type=e}}}),a("div",{ref:"chartWrapper",staticClass:"chart-wrapper"},[a("Chart",{ref:"chart",staticClass:"chart",attrs:{options:t.initOption()}})],1),t.groupedList?a("ol",t._l(t.groupedList,(function(e,n){return a("li",{key:n},[a("h3",{staticClass:"title"},[t._v(" "+t._s(t.beautify(e.title))+" "),a("span",[t._v("￥"+t._s(e.total))])]),a("ol",t._l(e.items,(function(e){return a("li",{key:e.id,staticClass:"record"},[a("span",[t._v(t._s(t.tagString(e.tags)))]),a("span",{staticClass:"notes"},[t._v(t._s(e.notes))]),a("span",[t._v("￥"+t._s(e.amount))])])})),0)])})),0):a("div",{staticClass:"message"},[t._v(" 数据不存在，请输入。 ")])],1)},Ft=[],At=(a("13d5"),a("7db0"),a("a15b"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"wrapper",staticClass:"wrapper"})}),Wt=[],Vt=a("313e"),qt=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"onOptionsChange",value:function(t){if(!t)return console.error("options 为空");this.chart.setOption(t)}},{key:"mounted",value:function(){this.chart=Vt["a"](this.$refs.wrapper),this.options&&this.onOptionsChange(this.options)}}]),a}(f["c"]);Object(l["a"])([Object(f["b"])()],qt.prototype,"options",void 0),Object(l["a"])([Object(f["d"])("options")],qt.prototype,"onOptionsChange",null),qt=Object(l["a"])([f["a"]],qt);var Kt=qt,Ut=Kt,Gt=(a("c899"),Object(b["a"])(Ut,At,Wt,!1,null,"4c9cf554",null)),Qt=Gt.exports,Xt=a("5a0c"),Zt=a.n(Xt),te=a("2ef0"),ee=a.n(te),ae=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){var t;return Object(i["a"])(this,a),t=e.apply(this,arguments),t.type="-",t.recordTypeList=wt,t}return Object(c["a"])(a,[{key:"recordList",get:function(){return this.$store.state.recordList}},{key:"groupedList",get:function(){var t=this,e=this.recordList;if(0===e.length)return[];var a=lt(e).filter((function(e){return e.type===t.type})).sort((function(t,e){return Zt()(e.date).valueOf()-Zt()(t.date).valueOf()}));if(!a||0==a.length)return!1;for(var n=[{title:Zt()(a[0].date).format("YYYY-MM-DD"),items:[a[0]]}],r=1;r<a.length;r++){var s=a[r],i=n[n.length-1];Zt()(i.title).isSame(Zt()(s.date),"day")?i.items.push(s):n.push({title:Zt()(s.date).format("YYYY-MM-DD"),items:[s]})}return n.map((function(t){t.total=t.items.reduce((function(t,e){return t+e.amount}),0)})),console.log("测试运行"),n}},{key:"axisData",get:function(){for(var t=new Date,e=[],a=29;a>=0;a--){var n=Zt()(t).subtract(a,"day").format("YYYY-MM-DD"),r=ee.a.find(this.groupedList,{title:n});e.push({date:n.substr(-5),value:r?r.total:0})}return e}},{key:"initOption",value:function(){var t=this.axisData.map((function(t){return t.date})),e=this.axisData.map((function(t){return t.value}));return{grid:{top:20,right:0,bottom:20,left:0},xAxis:{type:"category",data:t,axisTick:{alignWithLabel:!0},axisLine:{lineStyle:{color:"#666"}}},yAxis:{type:"value",show:!1},series:[{data:e,type:"line",symbol:"circle",symbolSize:10,itemStyle:{borderwidth:1,color:"#666"}}],tooltip:{show:!0,triggerOn:"click",position:"top",confine:"true",trigger:"axis"}}}},{key:"tagString",value:function(t){var e=t.map((function(t){return t.name}));return 0===t.length?"无":e.join(",")}},{key:"beautify",value:function(t){var e=Zt()(t),a=Zt()();return e.isSame(a,"day")?"今天":e.isSame(a.subtract(1,"day"),"day")?"昨天":e.isSame(a.subtract(2,"day"),"day")?"前天":e.isSame(a,"year")?e.format("M月D日"):e.format("YYYY年M月D日")}},{key:"beforeCreate",value:function(){this.$store.commit("fetchRecords")}},{key:"mounted",value:function(){var t=this.$refs.chartWrapper;t.scrollLeft=t.scrollWidth}}]),a}(n["default"]);Object(l["a"])([Object(f["d"])("axisData")],ae.prototype,"initOption",null),ae=Object(l["a"])([Object(f["a"])({components:{Tabs:ct,Chart:Qt}})],ae);var ne=ae,re=ne,se=(a("5137"),Object(b["a"])(re,Ht,Ft,!1,null,"65767519",null)),ie=se.exports,ce=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("Layout",[a("div",{staticClass:"navBar"},[a("Icon",{staticClass:"leftIcon",attrs:{iconname:"left"},on:{click:t.goBack}}),a("span",{staticClass:"title"},[t._v("编辑标签")]),a("span",{staticClass:"rightIcon"})],1),a("div",{staticClass:"form-wrapper"},[a("FormItem",{attrs:{value:t.tag.name,"field-name":"标签名",placeholder:"请输入标签名"},on:{"update:value":t.update}})],1),a("div",{staticClass:"button-wrapper"},[a("Button",{on:{click:t.removeTag}},[t._v("删除标签")])],1)])},oe=[],ue=(a("ac1f"),a("5319"),function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"tag",get:function(){return this.$store.state.currentTag}},{key:"update",value:function(t){this.tag&&this.$store.commit("updateTag",{id:this.tag.id,name:t})}},{key:"removeTag",value:function(){this.tag&&this.$store.commit("removeTag",this.$route.params.id)}},{key:"goBack",value:function(){this.$router.replace("/labels")}},{key:"created",value:function(){var t=this.$route.params.id;this.$store.commit("fetchTags"),this.$store.commit("setCurrentTag",t),this.tag||this.$router.replace("/404")}}]),a}(n["default"]));ue=Object(l["a"])([Object(f["a"])({components:{Button:Pt,FormItem:I}})],ue);var le=ue,fe=le,de=(a("28ed"),Object(b["a"])(fe,ce,oe,!1,null,"7a736022",null)),pe=de.exports,ve=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("p",[t._v("请输入正确网址")]),a("router-link",{attrs:{to:"/"}},[t._v("返回首页")])],1)},be=[],he={name:"NotFound"},ge=he,me=Object(b["a"])(ge,ve,be,!1,null,"2f42e3de",null),ye=me.exports;n["default"].use(y["a"]);var Oe=[{path:"/",redirect:"/money"},{path:"/money",name:"money",component:Ct},{path:"/labels",name:"labels",component:Jt},{path:"/statistics",name:"statistics",component:ie},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/labels/edit/:id",name:"editLabel",component:pe},{path:"*",component:ye}],je=new y["a"]({routes:Oe}),we=je,_e=a("2f62");n["default"].use(_e["a"]);var ke=new _e["a"].Store({state:{recordList:[],tagList:[],currentTag:void 0,createRecordError:null,createTagError:null},mutations:{fetchRecords:function(t){t.recordList=JSON.parse(window.localStorage.getItem("recordList")||"[]")},createRecords:function(t,e){var a=lt(e);t.recordList.push(a),ke.commit("saveRecords")},saveRecords:function(t){window.localStorage.setItem("recordList",JSON.stringify(t.recordList))},fetchTags:function(t){t.tagList=JSON.parse(window.localStorage.getItem("tagList")||"[]"),t.tagList&&0!==t.tagList.length||(ke.commit("createTag","衣"),ke.commit("createTag","食"),ke.commit("createTag","住"),ke.commit("createTag","行"))},setCurrentTag:function(t,e){t.currentTag=t.tagList.filter((function(t){return t.id===e}))[0]},createTag:function(t,e){t.createTagError=null;var a=t.tagList.map((function(t){return t.name}));if(a.indexOf(e)>0)t.createTagError=new Error("tag name duplicated");else{var n=ht().toString();t.tagList.push({id:n,name:e}),ke.commit("saveTags")}},updateTag:function(t,e){var a=t.tagList.map((function(t){return t.id})),n=e.id,r=e.name;if(console.log("idList",a),a.indexOf(n)>=0){var s=t.tagList.map((function(t){return t.name}));if(s.indexOf(r)>=0)return console.log("重复",r),"duplicated";var i=t.tagList.filter((function(t){return t.id===n}))[0];return i.name=r,ke.commit("saveTags"),console.log("成功"),"success"}return console.log("找不到"),"not found"},removeTag:function(t,e){var a=t.tagList.map((function(t){return t.id})),n=a.indexOf(e);n>=0?(t.tagList.splice(n,1),ke.commit("saveTags"),we.replace("/labels"),window.alert("删除成功")):window.alert("删除失败")},saveTags:function(t){window.localStorage.setItem("tagList",JSON.stringify(t.tagList))}},actions:{},modules:{}}),Le=ke,xe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("nav",[a("router-link",{staticClass:"item",attrs:{to:"/money","active-class":"selected"}},[a("Icon",{attrs:{iconname:"money"}}),t._v(" 记账 ")],1),a("router-link",{staticClass:"item",attrs:{to:"/labels","active-class":"selected"}},[a("Icon",{attrs:{iconname:"labels"}}),t._v(" 标签 ")],1),a("router-link",{staticClass:"item",attrs:{to:"/statistics","active-class":"selected"}},[a("Icon",{attrs:{iconname:"statistics"}}),t._v(" 统计 ")],1)],1)},Te=[],Ce=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return Object(c["a"])(a,[{key:"mounted",value:function(){setTimeout((function(){window.scrollTo(0,window.innerHeight)}),1)}}]),a}(n["default"]);Ce=Object(l["a"])([f["a"]],Ce);var $e=Ce,Be=$e,Se=(a("b692"),Object(b["a"])(Be,xe,Te,!1,null,"1a978d19",null)),De=Se.exports,Ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"layout-wrapper",class:t.classPrefix&&t.classPrefix+"-wrapper",style:{height:t.height+"px"}},[a("div",{staticClass:"content",class:t.classPrefix&&t.classPrefix+"-content"},[t._t("default")],2),a("Nav")],1)},Ne=[],Ie=function(t){Object(o["a"])(a,t);var e=Object(u["a"])(a);function a(){return Object(i["a"])(this,a),e.apply(this,arguments)}return a}(n["default"]);Object(l["a"])([Object(f["b"])()],Ie.prototype,"classPrefix",void 0),Object(l["a"])([Object(f["b"])()],Ie.prototype,"height",void 0),Ie=Object(l["a"])([f["a"]],Ie);var Pe=Ie,Me=Pe,ze=(a("1964"),Object(b["a"])(Me,Ee,Ne,!1,null,"f450ef58",null)),Ye=ze.exports,Re=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("svg",{staticClass:"icon",on:{click:function(e){return t.$emit("click",e)}}},[a("use",{attrs:{"xlink:href":"#"+t.iconname}})])},Je=[],He=(a("159b"),function(t){return t.keys().forEach(t)});try{He(a("b422"))}catch(Ke){console.log(Ke)}var Fe={props:["iconname"],name:"Icon"},Ae=Fe,We=(a("7731"),Object(b["a"])(Ae,Re,Je,!1,null,"3cfc55e1",null)),Ve=We.exports,qe=a("5c96");a("0fae");n["default"].config.productionTip=!1,n["default"].component("Nav",De),n["default"].component("Layout",Ye),n["default"].component("Icon",Ve),n["default"].use(qe["DatePicker"]),new n["default"]({router:we,store:Le,render:function(t){return t(g)}}).$mount("#app")},cf44:function(t,e,a){"use strict";a.r(e);var n=a("e017"),r=a.n(n),s=a("21a1"),i=a.n(s),c=new r.a({id:"money",use:"money-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="money"><defs><style></style></defs><path d="M504.954 1023.366c-278.057 0-503.461-225.452-503.461-503.46 0-278.058 225.404-503.46 503.46-503.46 278.01 0 503.462 225.402 503.462 503.46 0 278.008-225.452 503.46-503.461 503.46zm0-943.988c-243.294 0-440.527 197.234-440.527 440.528 0 243.293 197.233 440.48 440.527 440.48 243.294 0 440.48-197.187 440.48-440.48 0-243.294-197.186-440.528-440.48-440.528zm31.467 755.191h-62.934V677.19H284.691v-62.884h188.796v-94.399H284.691v-62.934h153.598L284.206 239.326l53.964-34.133 156.022 220.313h35.733l139.488-208.531 52.315 35.006-137.163 204.99h140.653v62.935H542.481l-6.061 9.017v85.382h188.797v62.884H536.421v157.38z" /></symbol>'});i.a.add(c);e["default"]=c},e3be:function(t,e,a){},ec13:function(t,e,a){},f0e7:function(t,e,a){},fa0e:function(t,e,a){"use strict";a.r(e);var n=a("e017"),r=a.n(n),s=a("21a1"),i=a.n(s),c=new r.a({id:"labels",use:"labels-usage",viewBox:"0 0 1024 1024",content:'<symbol class="icon" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg" id="labels"><defs><style></style></defs><path d="M912 106.667H519.573a5.333 5.333 0 00-3.786 1.6L110.453 513.6a5.333 5.333 0 000 7.573L502.88 913.6a5.333 5.333 0 007.52 0l405.333-405.333a5.333 5.333 0 001.6-3.787V112a5.333 5.333 0 00-5.333-5.333zm-69.333 366.826a5.333 5.333 0 01-1.6 3.787L510.4 807.947a5.333 5.333 0 01-7.52 0L216 521.173a5.333 5.333 0 010-7.573l330.667-330.667a5.333 5.333 0 013.786-1.6h286.88a5.333 5.333 0 015.334 5.334z" /><path d="M664.693 239.307a120 120 0 1084.854 35.146 119.84 119.84 0 00-84.854-35.146zm32 152.053a45.333 45.333 0 01-64 0 45.333 45.333 0 1164 0z" /></symbol>'});i.a.add(c);e["default"]=c}});
//# sourceMappingURL=app.6d8ac72a.js.map